<%- include('./layout/header.ejs') %>
<h1>Administrator</h1>
<a href="/adminux/customer-registration" type="button" class="d-none btn btn-primary text-decoration-none">Update Customer</a>

<a href="/adminux" class="btn btn-secondary">Restaurant</a>

<% if (customers.length) { %>
  <h2>Customers List: <%= customers.length %></h2> 
<% } else { %>
  <h2>No customers</h2> 
<% } %>

<table class="table table-striped table-bordered table-hover">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th>Actions</th>
      <!-- Add other properties of the Restaurant model as needed -->
    </tr>
  </thead>
  <tbody>
    <% customers.forEach(customer => { %>
      <tr>
        <td><%= customer._id %></td>
        <td><%= customer.username %></td>      
        <td>
          <a href="/adminux/update-customer/<%= customer._id %>" class="btn btn-sm btn-primary">Update</a>
          <a href="/adminux/customer-transactions/<%= customer._id %>" class="btn btn-sm btn-warning">Transactions</a>
          <a href="/adminux/customer-history/<%= customer._id %>" class="btn btn-sm btn-info">History</a>
          <button class="btn btn-sm btn-danger" onclick="deleteObject('<%= customer._id %>')">Delete</button>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<p class="d-none" id="route-path">/adminux/delete-customer</p>
<script src="/js/deleteObject.js"></script>            
<%- include('.././footer.ejs') %>
